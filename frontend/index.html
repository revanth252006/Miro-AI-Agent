<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIRO AGENT</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&family=Inter:wght@400;500;600&family=Space+Grotesk:wght@300;400;500;600&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">

    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <script src="https://unpkg.com/lucide-react@0.263.1/dist/umd/lucide-react.min.js"></script>
    
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>

    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Google Sans', 'Inter', 'sans-serif'],
                        mono: ['Fira Code', 'monospace'],
                    },
                    colors: {
                        gemini: {
                            bg: '#131314',
                            surface: '#1e1f20',
                            surfaceHover: '#2d2e31',
                            blue: '#a8c7fa',
                            accent: '#00f3ff',
                            purple: '#bd00ff'
                        }
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 6s ease-in-out infinite'
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' }
                        }
                    }
                }
            }
        }
        mermaid.initialize({ startOnLoad: false, theme: 'dark' });
    </script>

    <style>
        body { background-color: #131314; color: #e3e3e3; }
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(255, 255, 255, 0.1); border-radius: 20px; }
        .glass-panel { background: rgba(30, 31, 32, 0.8); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.05); }
        
        /* Markdown Styles */
        .markdown-body pre { background: #0d0d0d !important; padding: 1rem; border-radius: 0.5rem; border: 1px solid #333; overflow-x: auto; }
        .markdown-body code { font-family: 'Fira Code', monospace; font-size: 0.9em; color: #e0f2fe; }
        .markdown-body p { margin-bottom: 0.8rem; line-height: 1.6; }
        .markdown-body h1, .markdown-body h2, .markdown-body h3 { font-weight: 600; color: #fff; margin-top: 1.5rem; margin-bottom: 0.5rem; }
        .markdown-body ul { list-style-type: disc; padding-left: 1.5rem; margin-bottom: 1rem; }
        
        .voice-orb { width: 150px; height: 150px; background: radial-gradient(circle, rgba(0,243,255,0.8) 0%, rgba(189,0,255,0.4) 60%, transparent 80%); border-radius: 50%; filter: blur(15px); animation: pulse-glow 2s infinite; }
        @keyframes pulse-glow { 0% { transform: scale(1); opacity: 0.8; } 50% { transform: scale(1.1); opacity: 1; } 100% { transform: scale(1); opacity: 0.8; } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useLayoutEffect } = React;
        const { motion, AnimatePresence } = window.Motion;
        
        // --- FIX: Robust Icon Loading ---
        // Checks both common global names for the Lucide library
        const Icons = window.lucideReact || window.LucideReact || window.lucide;
        
        // Fallback if icons fail to load entirely
        const SafeIcon = ({ name, ...props }) => {
            if (!Icons || !Icons[name]) return <span className="text-xs">{name}</span>;
            const IconComponent = Icons[name];
            return <IconComponent {...props} />;
        };

        // GLOBAL CONFIG
        const WS_URL = 'ws://localhost:8000/ws';

        // --- COMPONENTS ---

        // 1. Markdown/Mermaid Renderer
        const MessageContent = ({ content }) => {
            const containerRef = useRef(null);

            useEffect(() => {
                if (!containerRef.current) return;
                
                if (content.includes("```mermaid")) {
                    // Simple split for mermaid diagrams
                    const parts = content.split(/```mermaid\n([\s\S]*?)```/g);
                    let html = "";
                    
                    // The split results in [text, code, text, code...]
                    parts.forEach((part, index) => {
                        if (index % 2 === 1) { // This is the code part
                             const id = `mermaid-${Date.now()}-${index}`;
                             html += `<div class="mermaid text-center my-4" id="${id}">${part}</div>`;
                             // We'll init mermaid after render
                        } else {
                            html += marked.parse(part);
                        }
                    });
                    
                    containerRef.current.innerHTML = html;
                    
                    // Initialize new mermaid diagrams
                    setTimeout(() => {
                        try { mermaid.init(undefined, document.querySelectorAll('.mermaid')); } catch(e) {}
                    }, 100);

                } else {
                    containerRef.current.innerHTML = marked.parse(content);
                }

                // Syntax Highlight
                if (window.Prism) {
                    window.Prism.highlightAllUnder(containerRef.current);
                }
            }, [content]);

            return <div ref={containerRef} className="markdown-body text-[15px] font-light text-gray-100" />;
        };

        // 2. Main App
        const App = () => {
            // State
            const [sidebarOpen, setSidebarOpen] = useState(true);
            const [messages, setMessages] = useState([]);
            const [inputValue, setInputValue] = useState("");
            const [isGenerating, setIsGenerating] = useState(false);
            const [isVoiceMode, setVoiceMode] = useState(false);
            const [visionActive, setVisionActive] = useState(false);
            const [voiceStatus, setVoiceStatus] = useState("Listening...");
            const [liveTranscript, setLiveTranscript] = useState("");

            // Refs
            const ws = useRef(null);
            const recognition = useRef(null);
            const videoRef = useRef(null);
            const fileInputRef = useRef(null);
            const messagesEndRef = useRef(null);
            const silenceTimer = useRef(null);
            const streamRef = useRef(null);

            // --- 1. WebSocket Setup ---
            const connectWebSocket = () => {
                try {
                    ws.current = new WebSocket(WS_URL);
                    
                    ws.current.onopen = () => console.log("MIRO: Connected to Neural Backend");
                    
                    ws.current.onmessage = (event) => {
                        const data = event.data;
                        
                        // Handle Control Messages
                        if (data.includes("Vision Camera On")) {
                            setVisionActive(true);
                            startWebcam();
                            return;
                        }
                        if (data.includes("Disconnected")) {
                            setVisionActive(false);
                            stopWebcam();
                            return;
                        }

                        // Handle Text Message
                        setIsGenerating(false);
                        const newMsg = { id: Date.now(), role: 'assistant', content: data };
                        setMessages(prev => [...prev, newMsg]);
                        
                        if (isVoiceMode) speak(data);
                    };

                    ws.current.onclose = () => {
                        console.log("MIRO: Disconnected. Reconnecting...");
                        setTimeout(connectWebSocket, 3000);
                    };
                } catch (err) {
                    console.error("WebSocket connection failed", err);
                }
            };

            useEffect(() => {
                connectWebSocket();
                loadVoices();
                return () => {
                    if (ws.current) ws.current.close();
                    stopWebcam();
                };
            }, []);

            // Scroll to bottom
            useEffect(() => {
                messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
            }, [messages, isGenerating]);


            // --- 2. Voice & TTS Engine ---
            const loadVoices = () => {
                if ('speechSynthesis' in window) {
                    window.speechSynthesis.getVoices();
                }
            };

            const speak = (text) => {
                if (!('speechSynthesis' in window)) return;
                
                window.speechSynthesis.cancel();
                // Strip markdown for speech
                const cleanText = text.replace(/[*#`_]/g, '').replace(/<[^>]*>/g, '').replace(/```[\s\S]*?```/g, "Code block generated.");
                
                const u = new SpeechSynthesisUtterance(cleanText);
                const voices = window.speechSynthesis.getVoices();
                // Try to find Zira or a good English voice
                const voice = voices.find(v => v.name.includes("Zira")) || voices.find(v => v.name.includes("Google US English")) || voices[0];
                if (voice) u.voice = voice;
                
                u.onend = () => {
                   if(isVoiceMode) setVoiceStatus("Listening...");
                };
                window.speechSynthesis.speak(u);
            };

            const toggleVoiceMode = () => {
                if (isVoiceMode) {
                    setVoiceMode(false);
                    window.speechSynthesis.cancel();
                    try { recognition.current?.stop(); } catch(e){}
                } else {
                    setVoiceMode(true);
                    setVoiceStatus("Listening...");
                    speak("Good day, Revanth. I am Miro.");
                    try { recognition.current?.start(); } catch(e){}
                }
            };

            useEffect(() => {
                if ('webkitSpeechRecognition' in window) {
                    const r = new webkitSpeechRecognition();
                    r.continuous = true;
                    r.interimResults = true;
                    r.lang = 'en-US';

                    r.onstart = () => setVoiceStatus("Listening...");
                    
                    r.onresult = (e) => {
                        const result = e.results[e.results.length - 1];
                        const t = result[0].transcript.trim();
                        const lower = t.toLowerCase();

                        // Barge-in
                        if (window.speechSynthesis.speaking && t.length > 2) {
                            window.speechSynthesis.cancel();
                        }

                        // Wake Word (when not in voice mode)
                        if (!isVoiceMode && (lower.includes("hey miro") || lower.includes("hello miro"))) {
                            toggleVoiceMode();
                            return;
                        }

                        if (isVoiceMode) {
                            setLiveTranscript(t);
                            clearTimeout(silenceTimer.current);

                            if (result.isFinal) {
                                handleVoiceCommand(t);
                            } else {
                                // Silence detection for rapid commands
                                silenceTimer.current = setTimeout(() => {
                                    if (t.length > 1) {
                                        r.abort();
                                        handleVoiceCommand(t);
                                        setTimeout(() => { try{r.start();}catch(e){} }, 50);
                                    }
                                }, 1200);
                            }
                        }
                    };

                    r.onend = () => {
                        if (isVoiceMode) try { r.start(); } catch (e) {}
                    };

                    recognition.current = r;
                }
            }, [isVoiceMode]);

            const handleVoiceCommand = (text) => {
                setLiveTranscript("");
                setVoiceStatus("Processing...");
                handleSend(text);
            };


            // --- 3. Vision Engine ---
            const startWebcam = async () => {
                try {
                    const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                    streamRef.current = stream;
                    if (videoRef.current) videoRef.current.srcObject = stream;
                    setVisionActive(true);
                } catch (e) {
                    console.error("Camera Error:", e);
                    setMessages(prev => [...prev, {id: Date.now(), role: 'assistant', content: "Error accessing camera. Please check permissions."}]);
                }
            };

            const stopWebcam = () => {
                if (streamRef.current) {
                    streamRef.current.getTracks().forEach(t => t.stop());
                }
                setVisionActive(false);
            };

            // --- 4. Messaging Logic ---
            const handleSend = (textOverride) => {
                const text = typeof textOverride === 'string' ? textOverride : inputValue;
                if (!text.trim()) return;

                // Optimistic Update
                setMessages(prev => [...prev, { id: Date.now(), role: 'user', content: text }]);
                setInputValue("");
                setIsGenerating(true);

                // Send to Backend
                if (ws.current && ws.current.readyState === WebSocket.OPEN) {
                    if (visionActive && videoRef.current) {
                        const canvas = document.createElement("canvas");
                        canvas.width = 640; canvas.height = 480;
                        canvas.getContext("2d").drawImage(videoRef.current, 0, 0, 640, 480);
                        const imageBase64 = canvas.toDataURL("image/jpeg", 0.7);
                        ws.current.send(JSON.stringify({ text: text, image: imageBase64 }));
                    } else {
                        ws.current.send(text);
                    }
                } else {
                    // Fallback simulation if WS is dead
                    setTimeout(() => {
                        setIsGenerating(false);
                        setMessages(prev => [...prev, { id: Date.now(), role: 'assistant', content: "MIRO Backend Disconnected. Please ensure the Python server is running on port 8000." }]);
                    }, 1000);
                }
            };

            const handleFileUpload = (e) => {
                const file = e.target.files[0];
                if (!file) return;
                const reader = new FileReader();
                reader.onload = (ev) => {
                    const payload = JSON.stringify({ type: "upload", filename: file.name, file: ev.target.result });
                    if(ws.current) ws.current.send(payload);
                    setMessages(prev => [...prev, { id: Date.now(), role: 'user', content: `üìÇ Uploaded: ${file.name}` }]);
                };
                reader.readAsDataURL(file);
            };

            const triggerAction = (action) => {
                 if (action === "Upload") fileInputRef.current.click();
                 else if (action === "Disconnect") { if(ws.current) ws.current.send("disconnect"); }
                 else {
                     if(ws.current) ws.current.send(`Activate ${action}`);
                     setMessages(prev => [...prev, { id: Date.now(), role: 'user', content: `Activate ${action}` }]);
                 }
            };

            // --- RENDER ---
            return (
                <div className="flex h-screen w-full bg-gemini-bg text-gray-200 overflow-hidden font-sans selection:bg-gemini-accent selection:text-black">
                    
                    {/* Hidden File Input */}
                    <input type="file" ref={fileInputRef} className="hidden" onChange={handleFileUpload} accept=".pdf,.txt" />

                    {/* Left Sidebar */}
                    <motion.aside 
                        initial={{ width: 0, opacity: 0 }}
                        animate={{ width: sidebarOpen ? 280 : 0, opacity: sidebarOpen ? 1 : 0 }}
                        className="hidden md:flex flex-col h-full bg-gemini-surface border-r border-white/5 shrink-0"
                    >
                        <div className="p-4 w-[280px]">
                            <div className="flex items-center gap-2 mb-8 px-2">
                                <div className="w-8 h-8 rounded-full bg-gradient-to-tr from-gemini-accent to-gemini-purple animate-pulse-slow"></div>
                                <span className="font-medium tracking-widest text-lg">MIRO</span>
                            </div>

                            <button onClick={() => window.location.reload()} className="flex items-center gap-3 px-4 py-3 bg-gemini-surfaceHover rounded-full text-sm font-medium hover:text-white transition-colors mb-4 w-fit">
                                <SafeIcon name="Plus" size={18} /> <span className="text-gray-300">New Chat</span>
                            </button>

                            <div className="text-xs font-bold text-gray-500 uppercase px-2 mb-2">Tools</div>
                            <div className="space-y-1">
                                <button onClick={() => triggerAction('Camera')} className="flex items-center gap-3 w-full px-3 py-2 text-sm text-gray-400 hover:bg-white/5 rounded-lg transition"><SafeIcon name="Eye" size={16} /> Vision</button>
                                <button onClick={() => triggerAction('Sign')} className="flex items-center gap-3 w-full px-3 py-2 text-sm text-gray-400 hover:bg-white/5 rounded-lg transition"><SafeIcon name="Power" size={16} /> Sign Language</button>
                                <button onClick={() => triggerAction('Mouse')} className="flex items-center gap-3 w-full px-3 py-2 text-sm text-gray-400 hover:bg-white/5 rounded-lg transition"><SafeIcon name="MousePointer2" size={16} /> AI Mouse</button>
                            </div>
                        </div>
                    </motion.aside>

                    {/* Main Content */}
                    <main className="flex-1 flex flex-col relative h-full min-w-0">
                        
                        {/* Header */}
                        <header className="absolute top-0 w-full z-10 flex items-center justify-between px-6 py-4">
                            <div className="flex items-center gap-2">
                                {!sidebarOpen && (
                                    <button onClick={() => setSidebarOpen(true)} className="p-2 hover:bg-white/10 rounded-full text-gray-400">
                                        <SafeIcon name="Menu" size={20} />
                                    </button>
                                )}
                                <div className="text-lg font-medium text-gray-400 flex items-center gap-1 cursor-pointer">
                                    Gemini <SafeIcon name="ChevronDown" size={14} className="opacity-50"/>
                                </div>
                            </div>
                            <div className="flex items-center gap-4">
                                <div className={`text-xs px-2 py-1 rounded border ${visionActive ? 'bg-red-500/20 border-red-500 text-red-400' : 'bg-green-500/20 border-green-500 text-green-400'}`}>
                                    {visionActive ? "‚óè VISION ACTIVE" : "‚óè SYSTEM ONLINE"}
                                </div>
                                <img src="[https://api.dicebear.com/7.x/avataaars/svg?seed=Revanth](https://api.dicebear.com/7.x/avataaars/svg?seed=Revanth)" className="w-8 h-8 rounded-full border border-gray-600" alt="User" />
                            </div>
                        </header>

                        {/* Chat Area */}
                        <div className="flex-1 overflow-y-auto custom-scrollbar relative px-4 pt-20 pb-40">
                            <div className="max-w-3xl mx-auto space-y-8">
                                {messages.length === 0 && (
                                    <div className="flex flex-col items-center justify-center mt-20 text-center opacity-0 animate-[fadeIn_0.5s_ease-out_forwards]">
                                        <div className="w-16 h-16 rounded-2xl bg-gradient-to-br from-gray-800 to-black border border-gray-700 flex items-center justify-center text-3xl shadow-2xl mb-6">‚ú®</div>
                                        <h1 className="text-4xl md:text-5xl font-medium bg-gradient-to-r from-gemini-accent via-white to-gemini-purple bg-clip-text text-transparent pb-2">Hello, Revanth</h1>
                                        <p className="text-xl text-gray-500">How can I help you today?</p>
                                    </div>
                                )}

                                {messages.map((msg) => (
                                    <motion.div 
                                        key={msg.id}
                                        initial={{ opacity: 0, y: 10 }}
                                        animate={{ opacity: 1, y: 0 }}
                                        className={`flex gap-4 ${msg.role === 'user' ? 'flex-row-reverse' : ''}`}
                                    >
                                        <div className={`w-8 h-8 rounded-full flex items-center justify-center shrink-0 mt-1 ${msg.role === 'assistant' ? '' : 'bg-transparent'}`}>
                                            {msg.role === 'assistant' ? <SafeIcon name="Sparkles" size={20} className="text-gemini-accent" /> : <div className="font-bold text-xs">YOU</div>}
                                        </div>
                                        <div className={`max-w-[85%] ${msg.role === 'user' ? 'bg-gemini-surface px-5 py-3 rounded-[20px] rounded-tr-sm text-gray-200' : ''}`}>
                                            <MessageContent content={msg.content} />
                                        </div>
                                    </motion.div>
                                ))}
                                
                                {isGenerating && (
                                    <div className="flex gap-4">
                                        <div className="w-8 h-8 flex items-center justify-center mt-1"><SafeIcon name="Sparkles" size={20} className="text-gemini-accent animate-spin" /></div>
                                        <div className="flex gap-1 items-center h-8">
                                            <div className="w-2 h-2 bg-gray-500 rounded-full animate-bounce" style={{animationDelay: '0s'}}></div>
                                            <div className="w-2 h-2 bg-gray-500 rounded-full animate-bounce" style={{animationDelay: '0.2s'}}></div>
                                            <div className="w-2 h-2 bg-gray-500 rounded-full animate-bounce" style={{animationDelay: '0.4s'}}></div>
                                        </div>
                                    </div>
                                )}
                                <div ref={messagesEndRef} />
                            </div>
                        </div>

                        {/* Input Area */}
                        <div className="absolute bottom-0 w-full bg-gradient-to-t from-gemini-bg via-gemini-bg to-transparent pb-6 pt-10 px-4">
                            <div className="max-w-3xl mx-auto relative">
                                <div className="bg-gemini-surface border border-white/10 rounded-[28px] relative transition-all focus-within:ring-1 focus-within:ring-white/20">
                                    <div className="absolute left-3 top-3 flex gap-1">
                                        <button onClick={() => triggerAction('Upload')} className="p-2 hover:bg-white/10 rounded-full text-gray-400 transition-colors"><SafeIcon name="Upload" size={20} /></button>
                                        <button onClick={() => triggerAction('Camera')} className={`p-2 hover:bg-white/10 rounded-full transition-colors ${visionActive ? 'text-gemini-accent' : 'text-gray-400'}`}><SafeIcon name="Eye" size={20} /></button>
                                    </div>

                                    <textarea
                                        value={inputValue}
                                        onChange={(e) => setInputValue(e.target.value)}
                                        onKeyDown={(e) => { if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); handleSend(); } }}
                                        placeholder="Enter a prompt here"
                                        className="w-full bg-transparent border-0 focus:ring-0 resize-none py-4 pl-28 pr-14 min-h-[60px] max-h-[200px] text-gray-200 placeholder:text-gray-500"
                                        rows={1}
                                    />

                                    <div className="absolute right-3 bottom-2.5">
                                        {inputValue.trim() ? (
                                            <button onClick={() => handleSend()} className="p-2 bg-white text-black rounded-full hover:scale-105 transition-transform"><SafeIcon name="Send" size={18} /></button>
                                        ) : (
                                            <button onClick={toggleVoiceMode} className="p-2 hover:bg-white/10 rounded-full text-white transition-colors"><SafeIcon name="Mic" size={22} /></button>
                                        )}
                                    </div>
                                </div>
                                <p className="text-[11px] text-center mt-3 text-gray-500">Miro may display inaccurate info, including about people, so double-check its responses.</p>
                            </div>
                        </div>
                    </main>

                    {/* --- OVERLAYS --- */}

                    {/* 1. Vision Camera PIP */}
                    <AnimatePresence>
                        {visionActive && (
                            <motion.div 
                                initial={{ scale: 0, opacity: 0 }}
                                animate={{ scale: 1, opacity: 1 }}
                                exit={{ scale: 0, opacity: 0 }}
                                className="absolute bottom-32 right-6 w-64 h-48 bg-black border-2 border-gemini-accent rounded-xl overflow-hidden shadow-2xl z-40"
                                drag
                                dragConstraints={{ left: 0, right: 0, top: 0, bottom: 0 }}
                            >
                                <video ref={videoRef} autoPlay playsInline muted className="w-full h-full object-cover" />
                                <div className="absolute bottom-2 left-2 bg-black/80 text-gemini-accent text-[10px] font-bold px-2 py-1 rounded">‚óè VISION</div>
                            </motion.div>
                        )}
                    </AnimatePresence>

                    {/* 2. Voice Mode Overlay */}
                    <AnimatePresence>
                        {isVoiceMode && (
                            <motion.div 
                                initial={{ opacity: 0 }}
                                animate={{ opacity: 1 }}
                                exit={{ opacity: 0 }}
                                className="absolute inset-0 z-50 bg-black/95 backdrop-blur-xl flex flex-col items-center justify-center"
                            >
                                <button onClick={toggleVoiceMode} className="absolute top-6 right-6 p-4 rounded-full bg-white/10 hover:bg-white/20 text-white transition"><SafeIcon name="X" size={24} /></button>
                                
                                <div className="relative mb-12">
                                    <div className="voice-orb"></div>
                                    <div className="absolute inset-0 flex items-center justify-center">
                                        <SafeIcon name="Mic" size={48} className="text-white drop-shadow-lg" />
                                    </div>
                                </div>

                                <h2 className="text-2xl font-light tracking-widest text-white mb-4 uppercase">{voiceStatus}</h2>
                                <p className="text-gray-400 text-lg max-w-2xl text-center px-4 h-8 transition-all">{liveTranscript || "Go ahead, I'm listening."}</p>
                            </motion.div>
                        )}
                    </AnimatePresence>

                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>